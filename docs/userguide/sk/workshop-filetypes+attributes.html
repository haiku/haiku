<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<!-- 
 *
 * Copyright 2008, Haiku. All rights reserved.
 * Distributed under the terms of the MIT License.
 *
 * Authors:
 *		Humdinger <humdingerb@gmail.com>
 * Translators:
 *		helix84
 *		Marek
 *
-->
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="robots" content="all" />
	<title>Workshop: Typy súborov, atribúty, index a požiadavky</title>
	<link rel="stylesheet" type="text/css" href="../Haiku-doc.css" />
</head>
<body>

<div id="banner">
<div><span>Používateľská príručka</span></div>
</div>

<div class="nav">
<div class="inner">
<ul class="lang-menu">
<li class="now"><img src="../images/flags/sk.png" alt="" /> Slovenčina</li>
<li><a href="../ca/workshop-filetypes+attributes.html"><img src="../images/flags/ca.png" alt="" />Català</a></li>
<li><a href="../de/workshop-filetypes+attributes.html"><img src="../images/flags/de.png" alt="" />Deutsch</a></li>
<li><a href="../en/workshop-filetypes+attributes.html"><img src="../images/flags/gb.png" alt="" />English</a></li>
<li><a href="../es/workshop-filetypes+attributes.html"><img src="../images/flags/es.png" alt="" />Español</a></li>
<li><a href="../fr/workshop-filetypes+attributes.html"><img src="../images/flags/fr.png" alt="" />Français</a></li>
<li><a href="../it/workshop-filetypes+attributes.html"><img src="../images/flags/it.png" alt="" />Italiano</a></li>
<li><a href="../hu/workshop-filetypes+attributes.html"><img src="../images/flags/hu.png" alt="" />Magyar</a></li>
<li><a href="../pl/workshop-filetypes+attributes.html"><img src="../images/flags/pl.png" alt="" />Polski</a></li>
<li><a href="../pt_PT/workshop-filetypes+attributes.html"><img src="../images/flags/pt_PT.png" alt="" />Português</a></li>
<li><a href="../pt_BR/workshop-filetypes+attributes.html"><img src="../images/flags/pt_BR.png" alt="" />Português (Brazil)</a></li>
<li><a href="../ro/workshop-filetypes+attributes.html"><img src="../images/flags/ro.png" alt="" />Română</a></li>
<li><a href="../fi/workshop-filetypes+attributes.html"><img src="../images/flags/fi.png" alt="" />Suomi</a></li>
<li><a href="../sv_SE/workshop-filetypes+attributes.html"><img src="../images/flags/sv_SE.png" alt="" />Svenska</a></li>
<li><a href="../zh_CN/workshop-filetypes+attributes.html"><img src="../images/flags/zh_CN.png" alt="" /> 中文 ［中文］</a></li>
<li><a href="../ru/workshop-filetypes+attributes.html"><img src="../images/flags/ru.png" alt="" />Русский</a></li>
<li><a href="../uk/workshop-filetypes+attributes.html"><img src="../images/flags/uk.png" alt="" />Українська</a></li>
<li><a href="../jp/workshop-filetypes+attributes.html"><img src="../images/flags/jp.png" alt="" />日本語</a></li>
</ul>
<span>
 «  <a href="queries.html">Požiadavky</a> 
::  <a href="contents.html" class="uplink">Obsah</a> 
::  <a href="applications.html">Aplikácie</a>  »
</span></div>
</div>

<div id="content">
<div>
<div class="box-info">Preklad tejto stránky zatiaľ nie je dokončený. Dovtedy sa nedokončené časti zobrazia v anglickom origináli.</div>


<table class="index" id="index" summary="index">
<tr class="heading"><td>Obsah</td></tr>
<tr class="index"><td>
	<a href="#preparations">Prípravy</a><br />
	<a href="#custom-filetype">Vytváranie vlastného typu súboru</a><br />
	<a href="#icon">Ikona</a><br />
        <a href="#file-recognition">Rozpoznávanie súborov</a><br />
	<a href="#description">Popis</a><br />
	<a href="#pref_app">Preferované aplikácie</a><br />
	<a href="#extra_attribute">Ďalšie atribúty</a><br />
	<a href="#indexing">Indexovanie</a><br />
	<a href="#filling-data">Vypĺňanie údajov</a><br />
	<a href="#query-db">Prehľadávanie databázi</a>
</td></tr>
</table>

<h1>Workshop: Typy súborov, atribúty, index a požiadavky</h1>

<p>Toto je workshop na ukázanie využitia <a href="attributes.html">Atribútov</a>, <a href="queries.html">Požiadaviek</a>, <a href="index.html">Indexu</a> a vlastných <a href="filetypes.html">Typov súborov</a>. Ako príklad si vytvoríme databázu na udržanie prehľadu vo vaších DVD.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="preparations" name="preparations">Prípravy</a></h2>
<p>Najprv sa rozhodnime aký typ súboru a aké atribúty poslúžia našim potrebám. Pôvodne som chcel použiť Záložkový súbor s odkazom na stránku IMdB, ale Haiku nemá momentálne prehliadač so „záložkami“ ako <span class="app">NetPositive</span> v BeOS, tak som vymyslel toto: Samotný súbor bude obrázok JPEG na obal DVD.<br />
Vďaka <span class="app">WebPositive</span> má teraz Haiku znova prehliadač používajúci súbory záložiek, takže môžeme ako základný typ súboru pre naše databázové súbory použiť aj súbor záložiek namiesto súboru obrázka.<br />
V každom prípade pridáme k týmto súborom niekoľko atribútov. Tu sa musíme rozhodnúť, či budeme neskôr vyhľadávať súbory požiadavkami (potom musíme pridať index) a ak, tak aký typ atribútu by to mal byť. Čísla (int, float) možno vyhodnocovať inak ako text (&lt;/=/&gt; vs. je/obsahuje/začína).</p>
<p>Tu sú atribúty, ktoré by som chcel vidieť pri mojich DVD:
</p>
<ul>
<li>Názov filmu</li>
<li>Žáner</li>
<li>URL napr. na IMdB</li>
<li>Režisér/obsadenie</li>
<li>Zápletka</li>
<li>Moje hodnotenie od 1 do 10</li>
<li>Súradnice na mojej poličke napr. A2, B3, takže nájdem DVD aj v skutočnosti :)</li>
<li>Ak si disk niekto požičal, tak kto...</li>
</ul>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="custom-filetype" name="custom-filetype">Vytváranie vlastného typu súboru</a></h2>
<p>Zapnite nastavenia <span class="app">Typov súborov</span>, a kliknite na tlačidlo <span class="button">Pridať...</span> pod hierarchickým zoznamom naľavo. Otvorí sa malé okno a vyberiete si v akej skupine MIME bude váš nový typ súboru. Taktiež môžte vytvoriť úplne novú skupinu. Dajme ho do „<i>application</i>“ a nastavme "Interný názov" na <i>DVDdb</i>.</p>
<img src="images/workshop-filetypes+attributes-images/filetypes-new-file-type.png" alt="filetypes-new-file-type.png" />
<p>Teraz sa otvorí panel pre nový typ súboru DVDdb:</p>
<img src="images/workshop-filetypes+attributes-images/filetypes-dvddb.png" alt="filetypes-dvddb.png" />

<h3>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="icon" name="icon">Ikona</a></h3>
<p>Dvojitým kliknutím na ikonu otvoríte <a href="applications/icon-o-matic.html">Icon-O-Matic</a> na navrhnutie ikony pre váš typ súboru. Taktiež môžte pretiahnuť ikonu z iného typu, môžno ako začiatok pre upravenú verziu.</p>

<h3>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="file-recognition" name="file-recognition">Rozpoznávanie súborov</a></h3>
<p>Môžte pridať prípony ako .txt .jpg .mp3 na rozpoznanie súborov podľa ich prípony. Je to užitočné, keď pracujete so súbormi zo systému, ktorý nepoužíva typy MIME. To pre náš príklad nepotrebujeme.
</p>

<h3>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="description" name="description">Popis</a></h3>
<ul>
<li><i>Názov typu</i> - Zobrazuje sa napr. v okne Trackera v menu Atribúty a „Druh“ atribút súboru.</li>
<li><i>Popis</i> - Trochu podrobnejší popis.</li>
</ul>

<h3>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="pref_app" name="pref_app">Preferované aplikácie</a></h3>
<p>Toto pop-up menu zobrazuje list všetkých aplikácií, ktoré môžu otvoriť tento konkrétny typ súboru.
Odtiaľ môžete vybrať, ktorý program by sa mal spustiť, pri otvorení takéhoto súboru dvojitým kliknutím.</p>
<table summary="layout" border="0" cellspacing="0" cellpadding="2">
<tr><td><span class="button">Vybrať...</span></td><td> </td><td>otvára okno, kde si môžete vybrať aplikáciu ktorá otvorí súbory tohoto typu. Tu nastavíme <span class="app">Prehliadač Obrázkov</span> pre zobrazenie obalu DVD.</td></tr>
<tr><td class="onelinetop"><span class="button">Rovnaký ako...</span></td><td> </td><td>otvára okno, kde môžete vybrať akýkoľvek súbor ktorý už má vybranú tú preferovanú aplikáciu, ktorú potrebujete.</td></tr>
</table>

<h3>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="extra_attribute" name="extra_attribute">Ďalšie atribúty</a></h3>
<p>Here we enter all the custom attributes we decided on in our preparations. Clicking the <span class="button">Add...</span> button opens a panel to enter all the data for the new attribute. You can edit an existing attribute with a double-click.</p>
<img src="images/workshop-filetypes+attributes-images/filetype-extra-attribute.png" alt="filetype-extra-attribute.png" />
<ul>
<li><p><i>Názov atribútu</i> - Objavuje sa napr. ako nadpis stĺpca v okne Trackera.</p></li>
<li><p><i>Vnútorný názov</i> - používa sa na indexovanie a vyhľadávanie atribútu.</p></li>
<li><i>Typ</i> - Definuje hodnotu, ktorú môže dostať atribút a tiež ako môže na ňu klásť požiadavky.
    <ul>
    <li><span class="menu">String</span> pre obyčajný text</li>
    <li><span class="menu">Boolean</span> pre binárny údaj: 0 alebo 1</li>
    <li><span class="menu">Integer</span> pre celé čísla s rôznym rozsahom:
        <ul>
        <li><span class="menu">8 bit</span>: ± 255</li>
        <li><span class="menu">16 bit</span>: ± 65 535</li>
        <li><span class="menu">32 bit</span>: ± 4 294 967 295</li>
        <li><span class="menu">64 bit</span>: ± 18 446 744 073 709 551 615</li>
        </ul>
    </li>
    <li><span class="menu">Float</span> pre desatinné čísla, s malou presnosťou</li>
    <li><span class="menu">Double</span> pre desatinné čísla, dvojitá presnosť</li>
    <li><span class="menu">Time</span> pre čas a dátum</li>
    </ul>
</li>
</ul>
<ul>
<li><i>Viditeľné</i> - toto zaškrtávacie políčko hovorí či je vôbec atribút viditeľný v okne Trackera. Keďže Tracker bude prostredie pre našu DVD databázu, zaškrtneme to a definujeme jeho zobrazenie s:<ul>
    <li><span class="menu">Zobraziť ako</span> - Ponecháme „Default“. V budúcnosti bude dostupných viac možností, napr. panel alebo hviezdičky na hodnotenie atď.</li>
    <li><span class="menu">Upravovateľné</span> - Hovorí či atribút bude upraviteľný v Trackery.</li>
    <li><span class="menu">Šírka</span> - Predvolená šírka stĺpca atribútu v okne Trackeru.</li>
    <li><span class="menu">Zarovnanie</span> - Atribút môže byť zarovnaný vľavo, v strede alebo vpravo.</li>
</ul></li></ul>
<p>Teraz vložme všetky informácie pre naše atribúty:</p>
<table summary="DVDdb Attributes" cellpadding="10" border="1">
<tr><th>Vnútorný názov</th><th>Typ atribútu</th><th>indexované?</th><th>Popis</th></tr>
<tr><td>DVDdb:title</td>	<td>text</td>		<td>áno</td>	<td>Názov filmu</td></tr>
<tr><td>DVDdb:genre</td>	<td>text</td>		<td>áno</td>	<td>Žáner</td></tr>
<tr><td>DVDdb:url</td>		<td>text</td>		<td>nie</td>	<td>URL</td></tr>
<tr><td>DVDdb:cast</td>		<td>text</td>		<td>áno</td>	<td>Režisér/obsadenie</td></tr>
<tr><td>DVDdb:plot</td>		<td>text</td>		<td>nie</td>	<td>Zápletka</td></tr>
<tr><td>DVDdb:rating</td>	<td>int-32</td>		<td>áno</td>	<td>Hodnotenie 1 až 10</td></tr>
<tr><td>DVDdb:coord</td>	<td>text</td>		<td>nie</td>	<td>Polička</td></tr>
<tr><td>DVDdb:lent</td>		<td>text</td>		<td>áno</td>	<td>Požičané komu</td></tr>
</table>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="indexing" name="indexing">Indexovanie</a></h2>
<p>Predtým ako začneme zadávať data do našej databáze DVD, mali by sme pridať určité atribúty do <a href="index.html">Indexu</a>. Iba indexované atribúty možno použiť rýchle <a href="queries.html">Požiadavky</a> Haiku.<br />
Tak, čo budeme v budúcnosti hľadať? Pravdepodobne sa nebudeme pýtať „čo je na súradnici B4 v mojej poličke?“ alebo „obsahuje IMdB URL alebo zápletka filmu slovo 'pope-shenooda'?“.</p>
<p>To necháva tieto atribúty:</p>
<table summary="Attribute Type" cellpadding="10" border="1">
<tr><th>Vnútorný názov</th><th>Typ atribútu</th></tr>
<tr><td>DVDdb:title</td><td>text</td></tr>
<tr><td>DVDdb:genre</td><td>text</td></tr>
<tr><td>DVDdb:cast</td><td>text</td></tr>
<tr><td>DVDdb:rating</td><td>int-32</td></tr>
</table>

<p>Aby sme ich zindexovali, otvoríme Terminál a jednoducho pridáme jeden atribút po druhom:</p>
<pre class="terminal">mkindex -t string DVDdb:title
mkindex -t string DVDdb:genre
mkindex -t string DVDdb:cast
mkindex -t int DVDdb:rating</pre>
<p>Možnosť <span class="cli">-t</span> definuje typ atribútu, ktorý je reťazec (string) pre všetky okrem hodnotenia, ktoré je celé číslo (integer).</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="filling-data" name="filling-data">Vypĺňanie údajov</a> </h2>
<p>Teraz, keď je je všetko nastavené, môžme začať vypĺňať nejaké údaje.
Keďže náš základný súbor je obrázok obalu, pôjdeme na online zdroje ako IMdB, vyhľadáme náš prvý film a uložíme obal alebo plagát do nového priečinka, kde chceme mať naše súbory DVDdb.</p>
<p>Po otvorení priečinku vidíme typické okno s jedným JPEG obrázkom.Pravým kliknutím zmeníme typ súboru na <tt>application/DVDdb</tt> s <span class="app">Doplnkom Typy súborov</span>. Viac informácii k tomu nájdete v dokumente <a href="filetypes.html">Typy súborov</a>.</p>
<p>Teraz aktivujeme všetky atribúty našej DVDfb
z <span class="menu">Atribúty</span> menu okna Trackera a popresúvame stĺpce ako chceme.</p>
<img src="images/workshop-filetypes+attributes-images/filetypes-dvddb-empty.png" alt="filetypes-dvddb-empty.png" />
<p>Kliknutím na zatiaľ prázdny atribút (alebo stlačením
 <span class="key">ALT</span> <span class="key">E</span>) vstúpime do  režimu úprav a vyplníme všetky údaje. Klávesmi <span class="key">TAB</span> a <span class="key">SHIFT</span> <span class="key">TAB</span> sa môžete pohybovať medzi atribútmi.</p>
<p>V našom príklade zvyčajne začneme so stiahnutím JPG obalu a zmenením jeho typu na applications/DVDdb. Je tu aj iný elegantný spôsob ako vytvoriť súbor, s ktorým budeme pracovať. Jednoducho skopírujte prázdny súbor nášho typu do <span class="path">/boot/home/config/settings/Tracker/Tracker New Templates</span> a premenujete ho na DVDdb.</p>
<p>Kliknutím pravým tlačidlom v okne nájdete novú možnosť v <span class="menu">Nový...</span> okrem základného „Nový priečinok“.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="query-db" name="query-db">Prehľadávanie databáze</a></h2>
<p>Po niekoľkých hodinách ťažkej práce máme peknú malú databázu, ktorú môžte prehľadávať aby ste našli všetky vaše filmy Christiny Ricciovej, ktorých hodnotenie je 7 a viac :)</p>
<p>Môžete priradiť rozumné rozloženie atribútu pre výsledky požiadavky na konkrétny typ súboru. <br />
Otvorte priečinok obsahujúci vaše DVDdb súbory a upravte atribúty tak, ako chcete mať zobrazované výsledky vyhľadávania. Skopírujte toto rozloženie s <span class="menu">Atribúty | Kopírovať rozloženie</span>.</p>
<p>Otvorte <span class="path">/boot/home/config/settings/Tracker/DefaultQueryTemplates</span>, vytvorte nový priečinok a premenujte ho na <i>group/filetype</i>, nahraďte medzery podtržítkami; v našom prípade "applications_DVDdb".</p>
<p>Otvorte nový priečinok a vložte rozloženie s
<span class="menu">Atribúty | Vložiť rozloženie</span>. Voilà:</p>
<img src="images/workshop-filetypes+attributes-images/query-dvddb.png" alt="query-dvddb.png" />

</div>
</div>

<div class="nav">
<div class="inner"><span>
 «  <a href="queries.html">Požiadavky</a> 
::  <a href="contents.html" class="uplink">Obsah</a> 
::  <a href="applications.html">Aplikácie</a>  »
</span></div>
</div>

</body>
</html>
