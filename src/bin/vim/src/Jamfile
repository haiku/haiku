SubDir HAIKU_TOP src bin vim src ;

SubDirHdrs [ FDirName $(SUBDIR) proto ] ;
SubDirHdrs [ FDirName $(SUBDIR) ] ;

# filter warnings we don't want here
TARGET_WARNING_CCFLAGS = [ FFilter $(TARGET_WARNING_CCFLAGS)
	: -Wall -Wmissing-prototypes -Wsign-compare ] ;

# set some additional defines
{
	SubDirCcFlags -DHAVE_CONFIG_H -DFEAT_GUI_BEOS ;
	SubDirC++Flags -DHAVE_CONFIG_H -DFEAT_GUI_BEOS ;
}

BinCommand vim :
	buffer.c
	charset.c
	diff.c
	digraph.c
	edit.c
	eval.c
	ex_cmds.c
	ex_cmds2.c
	ex_docmd.c
	ex_eval.c
	ex_getln.c
	fileio.c
	fold.c
	getchar.c
	if_cscope.c
	if_xcmdsrv.c
	main.c
	mark.c
	memfile.c
	memline.c
	menu.c
	message.c
	misc1.c
	misc2.c
	move.c
	mbyte.c
	normal.c
	ops.c
	option.c
	os_unix.c
	quickfix.c
	regexp.c
	screen.c
	search.c
	syntax.c
	tag.c
	term.c
	ui.c
	undo.c
	window.c
	gui.c
	gui_beos.cc
	pty.c
	os_beos.c
	version.c
	pathdef.c
	: be libtermcap.a $(SELECT_UNAME_ETC_LIB)
	: vim.rdef ;

SEARCH on [ FGristFiles pathdef.c ] = [ FDirName $(SUBDIR) auto ] ;
