<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libgutenprint API Reference: stp_image Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libgutenprint API Reference&#160;<span id="projectnumber">5.2.7</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">stp_image Struct Reference<div class="ingroups"><a class="el" href="group__image.html">image</a></div></div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="stp_image" -->
<p>The image type is an abstract data type for interfacing with the image creation program.  
 <a href="structstp__image.html#details">More...</a></p>

<p><code>#include &lt;image.h&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#ace69bf25344a814cabea38afa4527086">init</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback is used to perform any initialization required by the image layer for the image.  <a href="#ace69bf25344a814cabea38afa4527086"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#a7bb2244368c6b1e07d27afb3dd249ffd">reset</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback is called to reset the image to the beginning.  <a href="#a7bb2244368c6b1e07d27afb3dd249ffd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#a890033525988e15f4f4a0b4132e5f19b">width</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback returns the width of the image in pixels.  <a href="#a890033525988e15f4f4a0b4132e5f19b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#a4977ad211581999a3f3290983929cce9">height</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback returns the height of the image in pixels.  <a href="#a4977ad211581999a3f3290983929cce9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__image.html#ga58672e1989d582c14328048b207657c8">stp_image_status_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#a8f7f8fb5826f52b8bd820f422c583350">get_row</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image, unsigned char *data, size_t byte_limit, int row)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback transfers the data from the image to the gimp-print library.  <a href="#a8f7f8fb5826f52b8bd820f422c583350"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#a56636ad7c0dbf0a82284241f796d95cd">get_appname</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback returns the name of the application.  <a href="#a56636ad7c0dbf0a82284241f796d95cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#a5d2385711b303e055258c28f42ab7f4c">conclude</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This callback is called at the end of each page.  <a href="#a5d2385711b303e055258c28f42ab7f4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#ab18e6ee35037589bf485213022e2d871">rep</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to an application-specific state information that might need to be associated with the image object.  <a href="#ab18e6ee35037589bf485213022e2d871"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The image type is an abstract data type for interfacing with the image creation program. </p>
<p>It provides callbacks to functions defined within the client application which are called while printing the image. </p>
</div><hr/><h2>Field Documentation</h2>
<a class="anchor" id="a5d2385711b303e055258c28f42ab7f4c"></a><!-- doxytag: member="stp_image::conclude" ref="a5d2385711b303e055258c28f42ab7f4c" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structstp__image.html#a5d2385711b303e055258c28f42ab7f4c">stp_image::conclude</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback is called at the end of each page. </p>

</div>
</div>
<a class="anchor" id="a56636ad7c0dbf0a82284241f796d95cd"></a><!-- doxytag: member="stp_image::get_appname" ref="a56636ad7c0dbf0a82284241f796d95cd" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* <a class="el" href="structstp__image.html#a56636ad7c0dbf0a82284241f796d95cd">stp_image::get_appname</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback returns the name of the application. </p>
<p>This is embedded in the output by some drivers. </p>

</div>
</div>
<a class="anchor" id="a8f7f8fb5826f52b8bd820f422c583350"></a><!-- doxytag: member="stp_image::get_row" ref="a8f7f8fb5826f52b8bd820f422c583350" args=")(struct stp_image *image, unsigned char *data, size_t byte_limit, int row)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__image.html#ga58672e1989d582c14328048b207657c8">stp_image_status_t</a>(* <a class="el" href="structstp__image.html#a8f7f8fb5826f52b8bd820f422c583350">stp_image::get_row</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image, unsigned char *data, size_t byte_limit, int row)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback transfers the data from the image to the gimp-print library. </p>
<p>It is called from the driver layer. It should copy WIDTH (as returned by the <a class="el" href="structstp__image.html#a890033525988e15f4f4a0b4132e5f19b" title="This callback returns the width of the image in pixels.">width()</a> member) pixels of data into the data buffer. It normally returns STP_IMAGE_STATUS_OK; if something goes wrong, or the application wishes to stop producing any further output (e. g. because the user cancelled the print job), it should return STP_IMAGE_STATUS_ABORT. This will cause the driver to flush any remaining data to the output. It will always request rows in monotonically ascending order, but it may skip rows (if, for example, the resolution of the input is higher than the resolution of the output). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>the image in use. </td></tr>
    <tr><td class="paramname">data</td><td>a pointer to <a class="el" href="structstp__image.html#a890033525988e15f4f4a0b4132e5f19b" title="This callback returns the width of the image in pixels.">width()</a> bytes of pixel data. </td></tr>
    <tr><td class="paramname">byte_limit</td><td>(image width * number of channels). </td></tr>
    <tr><td class="paramname">row</td><td>(unused). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4977ad211581999a3f3290983929cce9"></a><!-- doxytag: member="stp_image::height" ref="a4977ad211581999a3f3290983929cce9" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structstp__image.html#a4977ad211581999a3f3290983929cce9">stp_image::height</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback returns the height of the image in pixels. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>the image in use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ace69bf25344a814cabea38afa4527086"></a><!-- doxytag: member="stp_image::init" ref="ace69bf25344a814cabea38afa4527086" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structstp__image.html#ace69bf25344a814cabea38afa4527086">stp_image::init</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback is used to perform any initialization required by the image layer for the image. </p>
<p>It will be called once per image. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>the image in use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab18e6ee35037589bf485213022e2d871"></a><!-- doxytag: member="stp_image::rep" ref="ab18e6ee35037589bf485213022e2d871" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structstp__image.html#ab18e6ee35037589bf485213022e2d871">stp_image::rep</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A pointer to an application-specific state information that might need to be associated with the image object. </p>

</div>
</div>
<a class="anchor" id="a7bb2244368c6b1e07d27afb3dd249ffd"></a><!-- doxytag: member="stp_image::reset" ref="a7bb2244368c6b1e07d27afb3dd249ffd" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structstp__image.html#a7bb2244368c6b1e07d27afb3dd249ffd">stp_image::reset</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback is called to reset the image to the beginning. </p>
<p>It may (in principle) be called multiple times if a page is being printed more than once. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>The <a class="el" href="structstp__image.html#a7bb2244368c6b1e07d27afb3dd249ffd" title="This callback is called to reset the image to the beginning.">reset()</a> call may be removed in the future. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>the image in use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a890033525988e15f4f4a0b4132e5f19b"></a><!-- doxytag: member="stp_image::width" ref="a890033525988e15f4f4a0b4132e5f19b" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structstp__image.html#a890033525988e15f4f4a0b4132e5f19b">stp_image::width</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This callback returns the width of the image in pixels. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>the image in use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/gutenprint/<a class="el" href="image_8h.html">image.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
